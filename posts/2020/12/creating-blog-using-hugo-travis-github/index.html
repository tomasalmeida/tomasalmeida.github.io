<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Creating a blog using Hugo, travis-ci and Github pages | Tomás Dias Almeida notes</title><meta name=keywords content="hugo,travis-ci,github,themes"><meta name=description content="How I created this blog As many github blogs born and die, my first post is how I created this blog using hugo as static page generator, travis-ci as CI/CD and github pages as page hosting.
As I do not want to have 2 separate repositories as proposed by Claudio Jolowicz in his tutorial, I will use the possibility to host the source under main and the page itself under another branch."><meta name=author content="Tomás Dias Almeida"><link rel=canonical href=https://tomasalmeida.pro/posts/2020/12/creating-blog-using-hugo-travis-github/><link crossorigin=anonymous href=/assets/css/stylesheet.41f2d211c00e636a3c229c52ef2d4299a66891ae66771098993b13bca7972ae6.css integrity="sha256-QfLSEcAOY2o8IpxS7y1CmaZoka5mdxCYmTsTvKeXKuY=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad();></script><link rel=icon href=https://tomasalmeida.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tomasalmeida.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tomasalmeida.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://tomasalmeida.pro/apple-touch-icon.png><link rel=mask-icon href=https://tomasalmeida.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: rgb(29, 30, 32);--entry: rgb(46, 46, 51);--primary: rgb(218, 218, 219);--secondary: rgb(155, 156, 157);--tertiary: rgb(65, 66, 68);--content: rgb(196, 196, 197);--hljs-bg: rgb(46, 46, 51);--code-bg: rgb(55, 56, 62);--border: rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Creating a blog using Hugo, travis-ci and Github pages"><meta property="og:description" content="How I created this blog As many github blogs born and die, my first post is how I created this blog using hugo as static page generator, travis-ci as CI/CD and github pages as page hosting.
As I do not want to have 2 separate repositories as proposed by Claudio Jolowicz in his tutorial, I will use the possibility to host the source under main and the page itself under another branch."><meta property="og:type" content="article"><meta property="og:url" content="https://tomasalmeida.pro/posts/2020/12/creating-blog-using-hugo-travis-github/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-12-24T12:58:00+01:00"><meta property="article:modified_time" content="2020-12-25T19:58:38+01:00"><meta property="og:site_name" content="Tomás Dias Almeida notes"><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating a blog using Hugo, travis-ci and Github pages"><meta name=twitter:description content="How I created this blog As many github blogs born and die, my first post is how I created this blog using hugo as static page generator, travis-ci as CI/CD and github pages as page hosting.
As I do not want to have 2 separate repositories as proposed by Claudio Jolowicz in his tutorial, I will use the possibility to host the source under main and the page itself under another branch."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tomasalmeida.pro/posts/"},{"@type":"ListItem","position":2,"name":"Creating a blog using Hugo, travis-ci and Github pages","item":"https://tomasalmeida.pro/posts/2020/12/creating-blog-using-hugo-travis-github/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Creating a blog using Hugo, travis-ci and Github pages","name":"Creating a blog using Hugo, travis-ci and Github pages","description":"How I created this blog As many github blogs born and die, my first post is how I created this blog using hugo as static page generator, travis-ci as CI/CD and github pages as page hosting.\nAs I do not want to have 2 separate repositories as proposed by Claudio Jolowicz in his tutorial, I will use the possibility to host the source under main and the page itself under another branch.","keywords":["hugo","travis-ci","github","themes"],"articleBody":"How I created this blog As many github blogs born and die, my first post is how I created this blog using hugo as static page generator, travis-ci as CI/CD and github pages as page hosting.\nAs I do not want to have 2 separate repositories as proposed by Claudio Jolowicz in his tutorial, I will use the possibility to host the source under main and the page itself under another branch. Github proposes as a standard to use gh-pagesfor the content itself, so I will follow it.\nGithub configuration Create your github repository Under your github account, create a new repository using the format .github.io (in my case it is tomasalmeida.github.io). Pay attention the repository is public, I tried it as private and it did not work, so if it works for you, even better :-)\nSet gh-pages as content branch Now, let’s create our needed branch gh-pages and set it as the default content container. To do it, we need to start the repo locally and push the changes. I made a dummy commit, but you can directly create your hugo content if you prefer…\nCreate the repo locally We will create the repository locally and create some content\nmkdir tomasalmeida.github.io cd $_ echo \"# Visit https://tomasalmeida.github.io\"  README.md git init git add README.md git commit -m \"Here a new blog is born\" Create the needed branches git branch -M main # I follow github naming and I use main instead of master git branch gh-pages # the content branch Link local and remote repository and push everything git remote add origin git@github.com:tomasalmeida/tomasalmeida.github.io.git git push origin '*:*' git push origin --all # just a double check Change the github content branch Go to your github repository again and enter in settings. There scroll down to GitHub Pages section and change the branch from main to gh-pages. Save it.\n A more detailed explanation about how to change your github page branch can be found in github docs:\nConfiguring a publishing source for your GitHub Pages site\n Optional: Define main as a protected branch Let’s avoid unexpected commits on main branch. So:\n Go to your repository and then Settings. Url is https://github.com//.github.io/settings Choose Branches option Add rule  For “Branch name pattern”, put main Check “Require pull request reviews before merging” Check “Require status checks to pass before merging”  Check “Require branches to be up to date before merging” Check \" Page Build\" Check “github/pages”   “Create” and then “Save changes”.     Again, a more detailled explanation is available on github docs:\nConfiguring protected branches\n Travis configuration Set up your travis-ci account   Go to Travis-ci.com and Sign up with GitHub. Accept the Authorization of Travis CI. You’ll be redirected to GitHub. For any doubts on the Travis CI GitHub Authorized OAuth App access rights message, please read more details below Click on your profile picture in the top right of your Travis Dashboard, click Settings and then the green Activate button, and select the repositories you want to use with Travis CI.  Extracted from Travis CI Tutorial\n In our case, we want to be sure our `.github.io is activated.\nGithub token I believe one of the keys of my success is the steps described by CreatureSurvive in his/her very concise and useful post Hugo on GitHub Pages using Travis-CI for deployment. All needed information is there, but I will rephrase and detail some steps below.\nGithub tokens are a way to give permissions to other agents to access/act in your repositories without giving them your password.\nCreate a new github token   To generate a new token, go to your Settings (click in your avatar on the top right and then Settings) - “Developer settings” option - “Personal access tokens” option - “Generate new token” button.\n  Choose a name (I recommend something meaningful like travis-ci-token) and select repo checkbox (travis will commit changes for you).\n  Generate the token (button in the bottom) and store the value.  Set the github token in travis  Go to https://travis-ci.com/github//.github.io and in “more options” choose Settings. Add a new environment variable called GITHUB_TOKEN and insert the token value.  Ensure Display value in build log is unchecked. Optionally: you can restrict the access to branch main. Save it.    Hugo configuration Hugo offers an excellent quick start guide, but for the purpose to keep everything in one tutorial, I will detail the steps here.\nInstall Hugo On macOS, I recommend using Homebrew. For windows or linux, please take a look on Install Hugo doc.\nbrew install hugo Create the blog As we already set up our repository locally, we will now set hugo there\ncd tomasalmeida.github.io hugo new site --force ./ # --force is needed as the folder is not empty Define a theme In https://themes.gohugo.io, you have several options to choose. I will use the same as in the Hugo tutorial: Ananke Gohugo Theme\ngit submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke git add themes git commit -m \"Adding a submodule for the theme ananke\" Define a basic configuration for the site Let’s add the basic configuration for the blog, as the url, the title and the theme we downloaded in the previous step.\nFor that open the config.toml and edit to to something similar to:\nbaseURL = \"https://tomasalmeida.github.io/\" languageCode = \"en-us\" title = \"Tomás Dias Almeida notes\" theme = \"ananke\" Commit the changes:\ngit add config.toml git commit -m \"Adding blog basic configuration\" Create Travis configuration Last and easiest part, we will connect all together. Under the root of your project create the .travis.yml file with this content:\n--- install: - curl -LO https://github.com/gohugoio/hugo/releases/download/v0.79.1/hugo_0.79.1_Linux-64bit.deb - sudo dpkg -i hugo_0.79.1_Linux-64bit.deb script: - hugo deploy: provider: pages skip_cleanup: true local_dir: public github_token: $GITHUB_TOKEN # already Set in travis-ci.org dashboard on: branch: main Thanks again for CreatureSurvive and the useful post Hugo on GitHub Pages using Travis-CI for deployment.\nCommit travis configuration file:\ngit add .travis.yml git commit -m \"Travis ci configuration\" Create your first post Well, I am creating this post right now. As you can see I like to have the date in the name for organization. I believe it goes against SEO, but it is easier to maintain control over the posts.\nhugo new posts/2020/12/creating-blog-using-hugo-travis-github.md As you can see, a new file is created with something like this:\n--- title: \"Creating Blog Using Hugo Travis Github\" date: 2020-12-24T12:58:00+01:00 draft: true --- Brief explanation:\n title: it is an auto generated title for your post. date: when the file was created draft: true means do not publish it.  If you want to see the changes directly in http://localhost:1313 if you can run\nhugo server -D Once your finish your post, it is time to commit everything (do not forget to change the draft option to false)\nCommit and push the changes:\ngit add . git commit -m \"My first blog post about creating a blog and its first blog post\" git push --set-upstream origin main Travis build job When you push the changes, travis will launch a new build. You can review it at https://travis-ci.com/github//.github.io\nOnce the build is done your website is visible after some seconds!\nReferences:  Hosting a Hugo blog on GitHub Pages with Travis CI Hugo on GitHub Pages using Travis-CI for deployment Hugo on GitHub Pages with Travis CI Hugo: Quick Start  ","wordCount":"1202","inLanguage":"en","datePublished":"2020-12-24T12:58:00+01:00","dateModified":"2020-12-25T19:58:38+01:00","author":{"@type":"Person","name":"Tomás Dias Almeida"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tomasalmeida.pro/posts/2020/12/creating-blog-using-hugo-travis-github/"},"publisher":{"@type":"Organization","name":"Tomás Dias Almeida notes","logo":{"@type":"ImageObject","url":"https://tomasalmeida.pro/favicon.ico"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><header class=header><nav class=nav><div class=logo><a href=https://tomasalmeida.pro/ accesskey=h title="Tomás Dias Almeida (Alt + H)">Tomás Dias Almeida</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://tomasalmeida.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://tomasalmeida.pro/archive/ title=Archive><span>Archive</span></a></li><li><a href=https://tomasalmeida.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Creating a blog using Hugo, travis-ci and Github pages</h1><div class=post-meta><span title="2020-12-24 12:58:00 +0100 +0100">December 24, 2020</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Tomás Dias Almeida</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#how-i-created-this-blog aria-label="How I created this blog">How I created this blog</a><ul><li><a href=#github-configuration aria-label="Github configuration">Github configuration</a><ul><li><a href=#create-your-github-repository aria-label="Create your github repository">Create your github repository</a></li><li><a href=#set-gh-pages-as-content-branch aria-label="Set gh-pages as content branch">Set gh-pages as content branch</a><ul><li><a href=#create-the-repo-locally aria-label="Create the repo locally">Create the repo locally</a></li><li><a href=#create-the-needed-branches aria-label="Create the needed branches">Create the needed branches</a></li><li><a href=#link-local-and-remote-repository-and-push-everything aria-label="Link local and remote repository and push everything">Link local and remote repository and push everything</a></li><li><a href=#change-the-github-content-branch aria-label="Change the github content branch">Change the github content branch</a></li></ul></li><li><a href=#optional-define-main-as-a-protected-branch aria-label="Optional: Define main as a protected branch">Optional: Define main as a protected branch</a></li></ul></li><li><a href=#travis-configuration aria-label="Travis configuration">Travis configuration</a><ul><li><a href=#set-up-your-travis-ci-account aria-label="Set up your travis-ci account">Set up your travis-ci account</a></li><li><a href=#github-token aria-label="Github token">Github token</a><ul><li><a href=#create-a-new-github-token aria-label="Create a new github token">Create a new github token</a></li></ul></li><li><a href=#set-the-github-token-in-travis aria-label="Set the github token in travis">Set the github token in travis</a></li></ul></li><li><a href=#hugo-configuration aria-label="Hugo configuration">Hugo configuration</a><ul><li><a href=#install-hugo aria-label="Install Hugo">Install Hugo</a></li><li><a href=#create-the-blog aria-label="Create the blog">Create the blog</a></li><li><a href=#define-a-theme aria-label="Define a theme">Define a theme</a></li><li><a href=#define-a-basic-configuration-for-the-site aria-label="Define a basic configuration for the site">Define a basic configuration for the site</a></li></ul></li><li><a href=#create-travis-configuration aria-label="Create Travis configuration">Create Travis configuration</a></li><li><a href=#create-your-first-post aria-label="Create your first post">Create your first post</a><ul><li><a href=#travis-build-job aria-label="Travis build job">Travis build job</a></li></ul></li><li><a href=#references aria-label=References:>References:</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=how-i-created-this-blog>How I created this blog<a hidden class=anchor aria-hidden=true href=#how-i-created-this-blog>#</a></h1><p>As many github blogs born and die, my first post is how I created this blog using hugo as static page generator, travis-ci as CI/CD and github pages as page hosting.</p><p>As I do not want to have 2 separate repositories as proposed by Claudio Jolowicz <a href=https://cjolowicz.github.io/posts/hosting-a-hugo-blog-on-github-pages-with-travis-ci/>in his tutorial</a>, I will use the possibility to host the source under <code>main</code> and the page itself under another branch. Github proposes as a standard to use <code>gh-pages</code>for the content itself, so I will follow it.</p><h2 id=github-configuration>Github configuration<a hidden class=anchor aria-hidden=true href=#github-configuration>#</a></h2><h3 id=create-your-github-repository>Create your github repository<a hidden class=anchor aria-hidden=true href=#create-your-github-repository>#</a></h3><p>Under your github account, create a new repository using the format <code>&lt;USERNAME>.github.io</code> (in my case it is <code>tomasalmeida.github.io</code>). Pay attention the repository is public, I tried it as private and it did not work, so if it works for you, even better :-)</p><p><img loading=lazy src=creating-repository.png alt="Creating page repository on github"></p><h3 id=set-gh-pages-as-content-branch>Set gh-pages as content branch<a hidden class=anchor aria-hidden=true href=#set-gh-pages-as-content-branch>#</a></h3><p>Now, let&rsquo;s create our needed branch <code>gh-pages</code> and set it as the default content container. To do it, we need to start the repo locally and push the changes. I made a dummy commit, but you can directly create your hugo content if you prefer&mldr;</p><h4 id=create-the-repo-locally>Create the repo locally<a hidden class=anchor aria-hidden=true href=#create-the-repo-locally>#</a></h4><p>We will create the repository locally and create some content</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>mkdir tomasalmeida.github.io
cd $_
echo <span style=color:#e6db74>&#34;# Visit https://tomasalmeida.github.io&#34;</span> &gt;&gt; README.md
git init
git add README.md
git commit -m <span style=color:#e6db74>&#34;Here a new blog is born&#34;</span>
</code></pre></div><h4 id=create-the-needed-branches>Create the needed branches<a hidden class=anchor aria-hidden=true href=#create-the-needed-branches>#</a></h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git branch -M main <span style=color:#75715e># I follow github naming and I use main instead of master</span>
git branch gh-pages <span style=color:#75715e># the content branch</span>
</code></pre></div><h4 id=link-local-and-remote-repository-and-push-everything>Link local and remote repository and push everything<a hidden class=anchor aria-hidden=true href=#link-local-and-remote-repository-and-push-everything>#</a></h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git remote add origin git@github.com:tomasalmeida/tomasalmeida.github.io.git
git push origin <span style=color:#e6db74>&#39;*:*&#39;</span>
git push origin --all <span style=color:#75715e># just a double check</span>
</code></pre></div><h4 id=change-the-github-content-branch>Change the github content branch<a hidden class=anchor aria-hidden=true href=#change-the-github-content-branch>#</a></h4><p>Go to your github repository again and enter in settings. There scroll down to <strong>GitHub Pages</strong> section and change the branch from <code>main</code> to <code>gh-pages</code>. Save it.</p><p><img loading=lazy src=using-gh-pages-for-github-pages.png alt="using gh-pages branch for github pages"></p><blockquote><p>A more detailed explanation about how to change your github page branch can be found in github docs:</p><p><a href=https://docs.github.com/en/free-pro-team@latest/github/working-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site>Configuring a publishing source for your GitHub Pages site</a></p></blockquote><h3 id=optional-define-main-as-a-protected-branch>Optional: Define main as a protected branch<a hidden class=anchor aria-hidden=true href=#optional-define-main-as-a-protected-branch>#</a></h3><p>Let&rsquo;s avoid unexpected commits on <code>main</code> branch. So:</p><ol><li>Go to your repository and then Settings. Url is <code>https://github.com/&lt;USERNAME>/&lt;USERNAME>.github.io/settings</code></li><li>Choose Branches option</li><li>Add rule<ol><li>For &ldquo;Branch name pattern&rdquo;, put <code>main</code></li><li>Check &ldquo;Require pull request reviews before merging&rdquo;</li><li>Check &ldquo;Require status checks to pass before merging&rdquo;<ol><li>Check &ldquo;Require branches to be up to date before merging&rdquo;</li><li>Check " Page Build"</li><li>Check &ldquo;github/pages&rdquo;</li></ol></li><li>&ldquo;Create&rdquo; and then &ldquo;Save changes&rdquo;.</li></ol></li></ol><blockquote><p>Again, a more detailled explanation is available on github docs:</p><p><a href=https://docs.github.com/en/free-pro-team@latest/github/administering-a-repository/configuring-protected-branches>Configuring protected branches</a></p></blockquote><h2 id=travis-configuration>Travis configuration<a hidden class=anchor aria-hidden=true href=#travis-configuration>#</a></h2><h3 id=set-up-your-travis-ci-account>Set up your travis-ci account<a hidden class=anchor aria-hidden=true href=#set-up-your-travis-ci-account>#</a></h3><blockquote><ol><li>Go to Travis-ci.com and Sign up with GitHub.</li><li>Accept the Authorization of Travis CI. You’ll be redirected to GitHub. For any doubts on the Travis CI GitHub Authorized OAuth App access rights message, please read more details below</li><li>Click on your profile picture in the top right of your Travis Dashboard, click Settings and then the green Activate button, and select the repositories you want to use with Travis CI.</li></ol><p>Extracted from <a href=https://docs.travis-ci.com/user/tutorial/#to-get-started-with-travis-ci-using-github>Travis CI Tutorial</a></p></blockquote><p>In our case, we want to be sure our `<username>.github.io is activated.</p><h3 id=github-token>Github token<a hidden class=anchor aria-hidden=true href=#github-token>#</a></h3><p>I believe one of the keys of my success is the steps described by CreatureSurvive in his/her very concise and useful post <a href=https://creaturesurvive.github.io/repo/blog/hugo-on-github-pages-using-travis-ci-for-deployment>Hugo on GitHub Pages using Travis-CI for deployment</a>. All needed information is there, but I will rephrase and detail some steps below.</p><p>Github tokens are a way to give permissions to other agents to access/act in your repositories without giving them your password.</p><h4 id=create-a-new-github-token>Create a new github token<a hidden class=anchor aria-hidden=true href=#create-a-new-github-token>#</a></h4><ol><li><p>To generate a new token, go to <a href=https://github.com/settings/tokens/new>your Settings (click in your avatar on the top right and then Settings) -> &ldquo;Developer settings&rdquo; option -> &ldquo;Personal access tokens&rdquo; option -> &ldquo;Generate new token&rdquo; button</a>.</p></li><li><p>Choose a name (I recommend something meaningful like <code>travis-ci-token</code>) and select repo checkbox (travis will commit changes for you).</p></li></ol><p><img loading=lazy src=creating-token-in-github.png alt="Creating a token in github"></p><ol start=3><li>Generate the token (button in the bottom) and store the value.</li></ol><h3 id=set-the-github-token-in-travis>Set the github token in travis<a hidden class=anchor aria-hidden=true href=#set-the-github-token-in-travis>#</a></h3><ol><li>Go to <code>https://travis-ci.com/github/&lt;USERNAME>/&lt;USERNAME>.github.io</code> and in &ldquo;more options&rdquo; choose Settings.</li><li>Add a new environment variable called <code>GITHUB_TOKEN</code> and insert the token value.<ol><li>Ensure Display value in build log is unchecked.</li><li>Optionally: you can restrict the access to branch <code>main</code>.</li><li>Save it.</li></ol></li></ol><p><img loading=lazy src=setting-token-as-env-variable-on-travis.png alt="Setting token as env variable on travis"></p><h2 id=hugo-configuration>Hugo configuration<a hidden class=anchor aria-hidden=true href=#hugo-configuration>#</a></h2><p>Hugo offers an excellent <a href=https://gohugo.io/getting-started/quick-start/>quick start guide</a>, but for the purpose to keep everything in one tutorial, I will detail the steps here.</p><h3 id=install-hugo>Install Hugo<a hidden class=anchor aria-hidden=true href=#install-hugo>#</a></h3><p>On macOS, I recommend using <a href=https://brew.sh/>Homebrew</a>. For windows or linux, please take a look on <a href=https://gohugo.io/getting-started/installing>Install Hugo doc</a>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>brew install hugo
</code></pre></div><h3 id=create-the-blog>Create the blog<a hidden class=anchor aria-hidden=true href=#create-the-blog>#</a></h3><p>As we already set up <a href=#create-the-repo-locally>our repository locally</a>, we will now set hugo there</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cd tomasalmeida.github.io
hugo new site --force ./ <span style=color:#75715e># --force is needed as the folder is not empty</span>
</code></pre></div><h3 id=define-a-theme>Define a theme<a hidden class=anchor aria-hidden=true href=#define-a-theme>#</a></h3><p>In <a href=https://themes.gohugo.io>https://themes.gohugo.io</a>, you have several options to choose. I will use the same as in the Hugo tutorial: <a href=https://themes.gohugo.io/gohugo-theme-ananke/>Ananke Gohugo Theme</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke
git add themes 
git commit -m <span style=color:#e6db74>&#34;Adding a submodule for the theme ananke&#34;</span> 
</code></pre></div><h3 id=define-a-basic-configuration-for-the-site>Define a basic configuration for the site<a hidden class=anchor aria-hidden=true href=#define-a-basic-configuration-for-the-site>#</a></h3><p>Let&rsquo;s add the basic configuration for the blog, as the url, the title and the theme we downloaded in the previous step.</p><p>For that open the <code>config.toml</code> and edit to to something similar to:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>baseURL = &#34;https://tomasalmeida.github.io/&#34;
languageCode = &#34;en-us&#34;
title = &#34;Tomás Dias Almeida notes&#34;
theme = &#34;ananke&#34;
</code></pre></div><p>Commit the changes:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git add config.toml
git commit -m <span style=color:#e6db74>&#34;Adding blog basic configuration&#34;</span>
</code></pre></div><h2 id=create-travis-configuration>Create Travis configuration<a hidden class=anchor aria-hidden=true href=#create-travis-configuration>#</a></h2><p>Last and easiest part, we will connect all together. Under the root of your project create the <code>.travis.yml</code> file with this content:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>---
<span style=color:#f92672>install</span>:
  - <span style=color:#ae81ff>curl -LO https://github.com/gohugoio/hugo/releases/download/v0.79.1/hugo_0.79.1_Linux-64bit.deb</span>
  - <span style=color:#ae81ff>sudo dpkg -i hugo_0.79.1_Linux-64bit.deb</span>

<span style=color:#f92672>script</span>:
  - <span style=color:#ae81ff>hugo</span>

<span style=color:#f92672>deploy</span>:
  <span style=color:#f92672>provider</span>: <span style=color:#ae81ff>pages</span>
  <span style=color:#f92672>skip_cleanup</span>: <span style=color:#66d9ef>true</span>
  <span style=color:#f92672>local_dir</span>: <span style=color:#ae81ff>public</span>
  <span style=color:#f92672>github_token</span>: <span style=color:#ae81ff>$GITHUB_TOKEN</span> <span style=color:#75715e># already Set in travis-ci.org dashboard</span>
  <span style=color:#f92672>on</span>:
    <span style=color:#f92672>branch</span>: <span style=color:#ae81ff>main</span>
</code></pre></div><p>Thanks again for CreatureSurvive and the useful post <a href=https://creaturesurvive.github.io/repo/blog/hugo-on-github-pages-using-travis-ci-for-deployment>Hugo on GitHub Pages using Travis-CI for deployment</a>.</p><p>Commit travis configuration file:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git add .travis.yml
git commit -m <span style=color:#e6db74>&#34;Travis ci configuration&#34;</span>
</code></pre></div><h2 id=create-your-first-post>Create your first post<a hidden class=anchor aria-hidden=true href=#create-your-first-post>#</a></h2><p>Well, I am creating this post right now. As you can see I like to have the date in the name for organization. I believe it goes against SEO, but it is easier to maintain control over the posts.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>hugo new posts/2020/12/creating-blog-using-hugo-travis-github.md
</code></pre></div><p>As you can see, a new file is created with something like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>---
title: &#34;Creating Blog Using Hugo Travis Github&#34;
date: 2020-12-24T12:58:00+01:00
draft: true
---
</code></pre></div><p>Brief explanation:</p><ul><li><strong>title</strong>: it is an auto generated title for your post.</li><li><strong>date</strong>: when the file was created</li><li><strong>draft</strong>: true means do not publish it.</li></ul><p>If you want to see the changes directly in <a href=http://localhost:1313/>http://localhost:1313</a> if you can run</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>hugo server -D
</code></pre></div><p>Once your finish your post, it is time to commit everything (do not forget to change the draft option to false)</p><p>Commit and push the changes:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git add .
git commit -m <span style=color:#e6db74>&#34;My first blog post about creating a blog and its first blog post&#34;</span>
git push --set-upstream origin main
</code></pre></div><h3 id=travis-build-job>Travis build job<a hidden class=anchor aria-hidden=true href=#travis-build-job>#</a></h3><p>When you push the changes, travis will launch a new build. You can review it at <code>https://travis-ci.com/github/&lt;USERNAME>/&lt;USERNAME>.github.io</code></p><p>Once the build is done your website is visible after some seconds!</p><h2 id=references>References:<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ol><li><a href=https://cjolowicz.github.io/posts/hosting-a-hugo-blog-on-github-pages-with-travis-ci/>Hosting a Hugo blog on GitHub Pages with Travis CI</a></li><li><a href=https://creaturesurvive.github.io/repo/blog/hugo-on-github-pages-using-travis-ci-for-deployment/>Hugo on GitHub Pages using Travis-CI for deployment</a></li><li><a href=https://www.sidorenko.io/post/2018/12/hugo-on-github-pages-with-travis-ci/>Hugo on GitHub Pages with Travis CI</a></li><li><a href=https://gohugo.io/getting-started/quick-start/>Hugo: Quick Start</a></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://tomasalmeida.pro/tags/hugo/>hugo</a></li><li><a href=https://tomasalmeida.pro/tags/travis-ci/>travis-ci</a></li><li><a href=https://tomasalmeida.pro/tags/github/>github</a></li><li><a href=https://tomasalmeida.pro/tags/themes/>themes</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Creating a blog using Hugo, travis-ci and Github pages on twitter" href="https://twitter.com/intent/tweet/?text=Creating%20a%20blog%20using%20Hugo%2c%20travis-ci%20and%20Github%20pages&url=https%3a%2f%2ftomasalmeida.pro%2fposts%2f2020%2f12%2fcreating-blog-using-hugo-travis-github%2f&hashtags=hugo%2ctravis-ci%2cgithub%2cthemes"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-253.927 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Creating a blog using Hugo, travis-ci and Github pages on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2ftomasalmeida.pro%2fposts%2f2020%2f12%2fcreating-blog-using-hugo-travis-github%2f&title=Creating%20a%20blog%20using%20Hugo%2c%20travis-ci%20and%20Github%20pages&summary=Creating%20a%20blog%20using%20Hugo%2c%20travis-ci%20and%20Github%20pages&source=https%3a%2f%2ftomasalmeida.pro%2fposts%2f2020%2f12%2fcreating-blog-using-hugo-travis-github%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0v-129.439c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02v-126.056c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768h75.024zm-307.552-334.556c-25.674.0-42.448 16.879-42.448 39.002.0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Creating a blog using Hugo, travis-ci and Github pages on reddit" href="https://reddit.com/submit?url=https%3a%2f%2ftomasalmeida.pro%2fposts%2f2020%2f12%2fcreating-blog-using-hugo-travis-github%2f&title=Creating%20a%20blog%20using%20Hugo%2c%20travis-ci%20and%20Github%20pages"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zm-119.474 108.193c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zm-160.386-29.702c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Creating a blog using Hugo, travis-ci and Github pages on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ftomasalmeida.pro%2fposts%2f2020%2f12%2fcreating-blog-using-hugo-travis-github%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978v-192.915h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Creating a blog using Hugo, travis-ci and Github pages on whatsapp" href="https://api.whatsapp.com/send?text=Creating%20a%20blog%20using%20Hugo%2c%20travis-ci%20and%20Github%20pages%20-%20https%3a%2f%2ftomasalmeida.pro%2fposts%2f2020%2f12%2fcreating-blog-using-hugo-travis-github%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23-13.314-11.876-22.304-26.542-24.916-31.026s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Creating a blog using Hugo, travis-ci and Github pages on telegram" href="https://telegram.me/share/url?text=Creating%20a%20blog%20using%20Hugo%2c%20travis-ci%20and%20Github%20pages&url=https%3a%2f%2ftomasalmeida.pro%2fposts%2f2020%2f12%2fcreating-blog-using-hugo-travis-github%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47A3.38 3.38.0 0126.49 29.86zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://tomasalmeida.pro/>Tomás Dias Almeida notes</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu')
if(menu){menu.scrollLeft=localStorage.getItem("menu-scroll-position");menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft);}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script><script>document.querySelectorAll('pre > code').forEach((codeblock)=>{const container=codeblock.parentNode.parentNode;const copybutton=document.createElement('button');copybutton.classList.add('copy-code');copybutton.innerHTML='copy';function copyingDone(){copybutton.innerHTML='copied!';setTimeout(()=>{copybutton.innerHTML='copy';},2000);}
copybutton.addEventListener('click',(cb)=>{if('clipboard'in navigator){navigator.clipboard.writeText(codeblock.textContent);copyingDone();return;}
const range=document.createRange();range.selectNodeContents(codeblock);const selection=window.getSelection();selection.removeAllRanges();selection.addRange(range);try{document.execCommand('copy');copyingDone();}catch(e){};selection.removeRange(range);});if(container.classList.contains("highlight")){container.appendChild(copybutton);}else if(container.parentNode.firstChild==container){}else if(codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"){codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);}else{codeblock.parentNode.appendChild(copybutton);}});</script></body></html>